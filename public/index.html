<!-- 

Ref.
http://socket.io/#how-to-use

-->


<!DOCTYPE html>

<html lang="en" ng-app="myApp">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Instant Messaging App</h1></title>
  <!-- CSS -->
  <link href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet"/>
  <link href="css/style.css" rel="stylesheet" />
</head> 

<body ng-controller="AppCtrl">


  <!-- Wrap all page content here for sticky footer to work-->
  <!-- Fixed navbar -->
  <div class="navbar navbar-default navbar-fixed-top" role="navigation">

    <div class="container">
	
    	<div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="#" ng-click="about()">Angular Socket.io ChatRoom</a>
      </div>
    		
      <div class="collapse navbar-collapse">
        <ul class="nav navbar-nav navbar-right">	  
		      <li class="dropdown" ng-cloak>
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">{{users.length}} Online
              <b class="caret" ng-if="users.length > 0"></b>
            </a>
            <ul class="dropdown-menu">
              <li ng-repeat="user in users" ng-cloak>
                {{user}}
      			  </li>
            </ul>
          </li>
        </ul>
      </div>  <!--/.nav-collapse -->
    </div>
  </div> <!-- @END/ .navbar -->

  <!-- -->

  <div class="mainContent col-xs-12">

  	<!-- =====================================================================
  	Name Change
  	====================================================================== -->
    <div class="row">
      <div class="col-md-offset-3 col-md-6 col-md-offset-3 text-center">	
        <!-- <h3>Change your name</h3> -->
        <p> Your current user name is <em ng-bind="name"></em></p>
        <form name="fmChangeName" class="fmChangeName" novalidate>
          <input type="text" ng-model='newName' placeholder="Enter Name" ng-required="true"/> 
  		    <button class="btn btn-sm btn-info" ng-click='changeName()' ng-disabled="fmChangeName.$invalid">Change Name</button>
        </form>
      </div>
    </div>
  	
    <!-- =====================================================================
  	ChatRoom Message Box
    (every 2nd row shall use css dark class)
  	====================================================================== -->
  	<div class="row">
      <div class="col-md-offset-3 col-md-6 col-md-offset-3">
  		  <h3 class="text-center"><strong>Messages</strong></h3>
        <div id="messages">
          <ul>
            <li class="list-unstyled" ng-repeat="message in messages track by $index" 
  				    ng-cloak autoscroll ng-class="{dark: $index % 2 === 0}">
  				    <strong ng-bind="message.user">:</strong> <em ng-bind="message.text"></em>
  				  </li>
          </ul>
        </div>
      </div>
  	</div>
  	

  	<!-- =====================================================================
  	Create New Message
  	====================================================================== -->
    
    <div class="row">
      <div class="col-md-offset-3 col-md-6 text-center col-md-offset-3">
        <!-- <form name="fmNewMsg" novalidate class="form-inline fmNewMsg" role="form"> -->

        <form name="fmNewMsg" novalidate class="fmNewMsg" role="form">
          <div class = "form-group">
            <label class="sr-only" for="message"></label>
            <input type="text" class="col-md-12 form-control input-lg" ng-model='message' placeholder="Enter Message.." ng-required="true" /> 
              <button class="btn btn-lg btn-danger" ng-click='sendMessage()' ng-disabled="fmNewMsg.$invalid">Send Message</button>
          </div>
        </form>
      </div>
    </div>

  </div> <!-- @END/.mainContent -->  

  <!-- Sticky footer - remains at bottom of page -->
  <div class="row">
    <div class="navbar navbar-nav navbar-fixed-bottom">
      <div class="text-center">
        <p class="foot navbar-text text-muted credit">Site Built By <a href="https://github.com/mick26">Michael Cullen 2014</a>.</p>
      </div>
    </div>
  </div>

  <!-- -->
  
  <!-- JS -->
  <!--
  <script src="http://code.angularjs.org/1.2.22/angular.js"></script>
  <script src="http://code.angularjs.org/1.2.22/angular-route.js"></script>
  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>  
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script> 
  -->

  <script src="bower_components/socket.io-client/socket.io.js"></script>
  <script src="bower_components/angular/angular.min.js"></script>  
  <script src="bower_components/angular-route/angular-route.min.js"></script>  
  <!-- // <script src="bower_components/angular-socket-io/socket.js"></script>   -->
	<script src="bower_components/jquery/dist/jquery.js"></script>
  <script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>

  <script src="js/app.js"></script>
  <script src="js/services/services.js"></script>
  <script src="js/controllers/controllers.js"></script>
  <script src="js/filters/filters.js"></script>
  <script src="js/directives/directives.js"></script>

</body>

</html>